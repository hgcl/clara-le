<script>
// COMMENT SCRIPT
// Submits comment form if not spam + alert about manual processing
// To avoid reload: https://stephenweiss.dev/better-form-submissions-with-event-prevent-default-and-html-form-element-reset

const commentForm = document.getElementById("comment-form");

function submitForm (e) {
    const formData = new FormData(e.target);
    
    // if form submission is spam
    if (formData.get("name") !== "" || formData.get("email") !== "") {
      e.preventDefault();
      return false;
    }

    event.preventDefault();
    console.log(`Form submitted!`);
    return alert(
      "Your comment will be manually reviewed before being published. Please do not leave the page while your message is being sent."
    );
    commentForm.reset();
  }

  commentForm.addEventListener('submit', submitForm);
</script>