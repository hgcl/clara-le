<!--
template: /templates/default.html
buildScript: /scripts/buildRecipesList.js
-->

<h1>Recipe book</h1>
<p class="intro">
  Here is a collection of recipes I have bookmarked. The original recipes are
  linked in the posts directly. Some of the steps and ingredients might differ
  from the original instructions to suit my preferences.
</p>
<fieldset id="posts-filter">
  <legend class="sr-only">Select filters:</legend>
  <div>
    <input
      type="radio"
      id="all"
      name="filter"
      value="all"
      onchange="filterItems(value);"
      checked
    />
    <label class="radio-label" for="all">All</label>
  </div>
  <div>
    <!-- We need the id to be plural to avoid collisions with regular main id... -->
    <input
      type="radio"
      id="mains"
      name="filter"
      value="main"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="mains">Mains</label>
  </div>
  <div>
    <input
      type="radio"
      id="cereal"
      name="filter"
      value="cereal"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="cereal">Cereals</label>
  </div>
  <div>
    <input
      type="radio"
      id="dessert"
      name="filter"
      value="dessert"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="dessert">Desserts</label>
  </div>
  <div>
    <input
      type="radio"
      id="extra"
      name="filter"
      value="extra"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="extra">Extras</label>
  </div>
  <div>
    <input
      type="radio"
      id="ahead"
      name="filter"
      value="ahead"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="ahead">Prep-ahead</label>
  </div>
  <div>
    <input
      type="radio"
      id="diy"
      name="filter"
      value="diy"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="diy">DIY</label>
  </div>
  <div>
    <input
      type="radio"
      id="spring"
      name="filter"
      value="spring"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="spring">Spring</label>
  </div>
  <div>
    <input
      type="radio"
      id="summer"
      name="filter"
      value="summer"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="summer">Summer</label>
  </div>
  <div>
    <input
      type="radio"
      id="fall"
      name="filter"
      value="fall"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="fall">Fall</label>
  </div>
  <div>
    <input
      type="radio"
      id="winter"
      name="filter"
      value="winter"
      onchange="filterItems(value);"
    />
    <label class="radio-label" for="winter">Winter</label>
  </div>
</fieldset>
<ul id="recipes" class="nobullet">
  <li>Posts go here</li>
</ul>

<!-- Same script as posts.html -->
<script>
  function filterItems(param) {
    // Select all list items and unhide
    const completeLiList = [...document.querySelectorAll(`li[data-tag]`)];
    // Hide list items based on updated tags list
    let i = 0;
    while (i < completeLiList.length) {
      // Select <li> number i and get its tags
      let itemTags = completeLiList[i]
        .getAttribute("data-tag")
        .toLowerCase()
        .split(" ");
      // Hide <li> if it doesn't include the selected param
      if ((param === "all") | (itemTags.includes(param) === true)) {
        completeLiList[i].setAttribute("style", "display:flex");
      } else {
        completeLiList[i].setAttribute("style", "display:none");
      }
      i++;
    }
  }
</script>
