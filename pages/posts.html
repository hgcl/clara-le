<!--
template: /templates/default.html
buildScript: /scripts/buildPostsList.js
-->

<!-- buildPostsList.js is linked to current H1, do not edit it -->
<section id="posts">
  <h1>Musings</h1>
  <p class="intro">
    Expect half-formed thoughts, doodles, full-fledged posts or anything in
    between. Everything except for the tiny notes can be followed through my
    <a href="/feed.xml">RSS feed</a>.
  </p>
  <fieldset class="label" id="posts-filter">
    <legend class="sr-only">Select filters:</legend>
    <div>
      <input
        type="radio"
        id="all"
        name="filter"
        value="all"
        onchange="filterItems(value);"
        checked
      />
      <label for="all">All</label>
    </div>
    <div>
      <input
        type="radio"
        id="creative"
        name="filter"
        value="creative"
        onchange="filterItems(value);"
      />
      <label for="creative">Creative</label>
    </div>
    <div>
      <input
        type="radio"
        id="digital"
        name="filter"
        value="digital"
        onchange="filterItems(value);"
      />
      <label for="digital">Digital</label>
    </div>
    <div>
      <input
        type="radio"
        id="now"
        name="filter"
        value="now"
        onchange="filterItems(value);"
      />
      <label for="now">Now</label>
    </div>
    <div>
      <input
        type="radio"
        id="reviews"
        name="filter"
        value="reviews"
        onchange="filterItems(value);"
      />
      <label for="reviews">Reviews</label>
    </div>
    <div>
      <input
        type="radio"
        id="thoughts"
        name="filter"
        value="thoughts"
        onchange="filterItems(value);"
      />
      <label for="thoughts">Thoughts</label>
    </div>
    <div>
      <input
        type="radio"
        id="weekly"
        name="filter"
        value="weekly"
        onchange="filterItems(value);"
      />
      <label for="weekly">Weekly reviews</label>
    </div>
  </fieldset>
  <p>Posts go here</p>
</section>

<script>
  function filterItems(param) {
    // Select all list items and unhide
    const completeLiList = [...document.querySelectorAll(`li[data-tag]`)];
    // Hide list items based on updated tags list
    let i = 0;
    while (i < completeLiList.length) {
      // Select <li> number i and get its tags
      let itemTags = completeLiList[i].getAttribute("data-tag").split(",");
      // Hide <li> if it doesn't include the selected param
      if ((param === "all") | (itemTags.includes(param) === true)) {
        completeLiList[i].setAttribute("style", "display:flex");
      } else {
        completeLiList[i].setAttribute("style", "display:none");
      }
      i++;
    }
  }
</script>
